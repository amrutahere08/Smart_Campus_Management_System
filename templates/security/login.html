{% extends "base.html" %}

{% block title %}Security Login - Smart Campus{% endblock %}

{% block content %}
<div class="container" style="margin-top: 4rem; max-width: 450px;">
    <div class="card"
        style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(168, 85, 247, 0.05)); border: 1px solid rgba(99, 102, 241, 0.2);">
        <div class="card-body" style="padding: 2.5rem;">
            <!-- Security Badge Icon -->
            <div style="text-align: center; margin-bottom: 2rem;">
                <div
                    style="display: inline-block; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); padding: 1.5rem; border-radius: 50%; box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                        <path d="M9 12l2 2 4-4" />
                    </svg>
                </div>
                <h2 style="color: var(--primary-color); margin-top: 1.5rem; font-size: 1.8rem; font-weight: 700;">
                    Security Login</h2>
                <p style="color: var(--text-secondary); margin-top: 0.5rem;">Attendance Monitoring System</p>
            </div>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}"
                style="margin-bottom: 1.5rem; padding: 1rem; border-radius: var(--radius-sm); background: {% if category == 'danger' %}rgba(239, 68, 68, 0.1){% elif category == 'success' %}rgba(34, 197, 94, 0.1){% else %}rgba(251, 191, 36, 0.1){% endif %}; border-left: 4px solid {% if category == 'danger' %}var(--danger-color){% elif category == 'success' %}var(--success-color){% else %}var(--warning-color){% endif %};">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

            <!-- Login Form -->
            <form method="POST" action="{{ url_for('security.login') }}">
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="username"
                        style="color: var(--text-primary); font-weight: 600; margin-bottom: 0.5rem; display: block;">Username</label>
                    <input type="text" class="form-control" id="username" name="username" required
                        style="width: 100%; padding: 0.875rem; border: 2px solid rgba(99, 102, 241, 0.2); border-radius: var(--radius-sm); background: rgba(255, 255, 255, 0.05); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;"
                        onfocus="this.style.borderColor='var(--primary-color)'; this.style.boxShadow='0 0 0 3px rgba(99, 102, 241, 0.1)'"
                        onblur="this.style.borderColor='rgba(99, 102, 241, 0.2)'; this.style.boxShadow='none'"
                        placeholder="Enter your username">
                </div>

                <div class="form-group" style="margin-bottom: 2rem;">
                    <label for="password"
                        style="color: var(--text-primary); font-weight: 600; margin-bottom: 0.5rem; display: block;">Password</label>
                    <input type="password" class="form-control" id="password" name="password" required
                        style="width: 100%; padding: 0.875rem; border: 2px solid rgba(99, 102, 241, 0.2); border-radius: var(--radius-sm); background: rgba(255, 255, 255, 0.05); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease;"
                        onfocus="this.style.borderColor='var(--primary-color)'; this.style.boxShadow='0 0 0 3px rgba(99, 102, 241, 0.1)'"
                        onblur="this.style.borderColor='rgba(99, 102, 241, 0.2)'; this.style.boxShadow='none'"
                        placeholder="Enter your password">
                </div>

                <button type="submit" class="btn btn-primary"
                    style="width: 100%; padding: 1rem; font-size: 1.1rem; font-weight: 600; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); border: none; border-radius: var(--radius-sm); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);"
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(99, 102, 241, 0.4)'"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(99, 102, 241, 0.3)'">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="vertical-align: middle; margin-right: 0.5rem;">
                        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
                        <polyline points="10 17 15 12 10 7" />
                        <line x1="15" y1="12" x2="3" y2="12" />
                    </svg>
                    Login to Dashboard
                </button>
            </form>

            <!-- Info Box -->
            <div
                style="margin-top: 2rem; padding: 1rem; background: rgba(99, 102, 241, 0.05); border-radius: var(--radius-sm); border-left: 4px solid var(--primary-color);">
                <p style="color: var(--text-secondary); font-size: 0.9rem; margin: 0;">
                    <strong style="color: var(--primary-color);">Security Personnel Only</strong><br>
                    This portal is restricted to authorized security staff for attendance monitoring.
                </p>
            </div>
        </div>
    </div>

    <!-- Back to Home -->
    <div style="text-align: center; margin-top: 1.5rem;">
        <a href="{{ url_for('common.index') }}"
            style="color: var(--text-secondary); text-decoration: none; transition: color 0.3s ease;"
            onmouseover="this.style.color='var(--primary-color)'" onmouseout="this.style.color='var(--text-secondary)'">
            ‚Üê Back to Home
        </a>
    </div>
</div>

<style>
    body {
        background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        min-height: 100vh;
    }
</style>
{% endblock %}